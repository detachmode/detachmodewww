

<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<title>Mein erster Test</title>
<link rel="stylesheet" href="tt	mystyle.css" type="text/css" />>
<script  type="text/javascript">
	
	// ***Variablen***//
	var arr = new Array();
	req = new XMLHttpRequest();
	req = new ActiveObject("Mircosoft.XMLHTTP");
	
	var t=0;
	
	//TEMP TimeServlet.java
	
	/*doGet(...
	...
	String result = "{vorname:'Max'" + 
					"name:'Mustermann'" +
					"}";
					
	out.write(result);
	out.close();
	*/
	
	//***Funktionen***//
	
	function sendAjax(){
		req.open("GET", "http://127.0.0.1:8080/message", true)
		req.onreadystatechange = showAjaxResult;
		req.send(null);
	}
	
	function showAjaxResult() {
		if (req.readyState == 4){
			if(req.status == 200){
				document.getElementById("fullResponse").value = req.responseText;
				document.getElementById("xmlContent").value = 
					req.responseXML.documentElement.firstChild.nodeValue;
				
			}	
		}
	}
	
	function btnclick() {
		for (var i =0; i < 20; i++) 
		{	
			if (t==0){
				window.setTimeout(doit, 200);
				t=1;
			}
			else {
				window.setTimeout(doit2, 200);
				t=0;
			}
		}
	}
	
	function changeStyle(){

		if (t==0) 
		{
    		document.styleSheets.item(0).disabled=true;
    		t=1;	
		}
		else
		{
    		document.styleSheets.item(0).disabled=false;
    		t=0;
    	}
		
	}
	
	function doit() {
		document.getElementById("main").style.backgroundColor="red";
		
	}
	
	
	function doit2() {
		document.getElementById("main").style.backgroundColor="blue";
	
	}
	
	//***Main***//

</script>
</head>

<body id="main">

<h1 id="top">Ajax Message Project </h1>
<table>
	<tr>
		<td>
		Full XML Response
		</td>
		<td>
			<input type="text" id="fullResponse" size="80"/>
		</td>
	</tr>
	<tr>
		<td>
			Text Message:
		</td>
		<td>
			<input type="text" id="xmlContent" size="40"/>
		</td>
	</tr>
	<tr>
		<td>
			<input type="submit" value="send Ajax Request" onclick="javascript:sendAjax();"/>
		</td>
		<td>
		</td>
	</tr>
	</table>
	<br>	
<input type="button" onclick="doit()" name="btn" value="Press me!" />

<!-- ScriptBlock-->
<script  type="text/javascript"> 
 

</script>

</body>
</html>